<div class="addTaskWrapper" onclick="closeOnClickOutside(event)">
    <div class="addTaskContainer" id="addTaskContainer">

        <!-- Title -->
        <div class="enterTitleBox">
            <input class="addTaskInputTitle" id="addTaskInputTitle" onfocusout="errorMessageIfEmptyTitle()" type="text"
                placeholder="Enter a title" required autocomplete="off">
            <p class="errorMessageIfEmptyTitle">This field is required</p>
        </div>

        <!-- Description -->
        <div class="descriptionBox">
            <span class="addTaskTopics">
                <h3>Description</h3>(optional)
            </span>
            <textarea class="addTaskDescriptionInput" id="addTaskDescriptionInput" name="text"
                placeholder="Enter a description" required></textarea>
        </div>

        <!-- Due Date -->
        <div class="dueDateBox">
            <span class="addTaskTopics">
                <h3>Due date</h3>
            </span>
            <input class="addTaskDueDateInput" id="addTaskDueDateInput" onfocusout="errorMessageIfEmptyDueDate()"
                type="date" placeholder="dd/mm/yyyy" min="">
            <p class="errorMessageIfEmptyDueDate">This field is required</p>
        </div>

        <!-- Priority -->
        <div class="priorityBox">
            <span class="addTaskTopics">
                <h3>Priority</h3>
            </span>
            <div class="priorityButtons">
                <button id="urgentPriorityButton" class="urgentPriorityButton" data-priority="Urgent"
                    onclick="changePriorityColor('urgentPriorityButton')">
                    Urgent 
                    <img id="urgentIcon" class="urgentIcon" src="{% static 'img/priorityHighInactive.svg' %}" alt="Urgent">
                </button>
            
                <button id="mediumPriorityButton" class="mediumPriorityButton" data-priority="Medium"
                    onclick="changePriorityColor('mediumPriorityButton')">
                    Medium 
                    <img id="mediumIcon" class="mediumIcon" src="{% static 'img/priorityMediumInactive.svg' %}" alt="Medium">
                </button>
            
                <button id="lowPriorityButton" class="lowPriorityButton" data-priority="Low"
                    onclick="changePriorityColor('lowPriorityButton')">
                    Low 
                    <img id="lowIcon" class="lowIcon" src="{% static 'img/priorityLowInactive.svg' %}" alt="Low">
                </button>
            </div>
        </div>

        <!-- Assigned to -->
        <div class="assignedToBox" id="assignedToBox">
            <span class="addTaskTopics">
                <h3>Assigned to</h3>(optional)
            </span>
            <input class="assignContactsDropdown" id="assignContactsDropdown" onclick="toggleAssignToDropdown()" 
                oninput="searchContactToAssign()" placeholder="Select contacts to assign" autocomplete="off">
            <div class="dropdowncontacts" id="dropdowncontacts" style="display: none"></div>
            <div class="avatarsOfSelectedContacts" id="avatarsOfSelectedContacts" style="display: none"></div>
        </div>

        <!-- Task Category -->
        <div class="taskCategoryBox" tabindex="0" onfocusout="closeTaskCategoryDropdown()">
            <span class="addTaskTopics">
                <h3>Category</h3>
            </span>
            <div class="selectTaskDropdown" id="selectTaskDropdown" onclick="toggleSelectTaskCategoryDropdown()">
                <span id="selectTaskCategoryTextField">Select task category</span>
            </div>
            <p class="errorMessageIfEmptyCategory">This field is required</p>
            <div class="dropdownSelectTasksCategory" id="dropdownSelectTasksCategory" style="display: none"></div>
        </div>

        <!-- Subtasks -->
        <div class="subtasksBox">
            <span class="addTaskTopics">
                <h3>Subtasks</h3>(optional)
            </span>
            <div class="addTaskSubtasksInputContainer">
                <input class="addTaskSubtasksInput" id="addTaskSubtasksInput" type="text" placeholder="Add new subtask"
                    oninput="showSubtaskInputMenu(); checkInputValue()"
                    onkeypress="if (event.keyCode === 13) saveSubtaskInput()" autocomplete="off">
                <div class="addTaskSubtasksIcons" id="addTaskSubtasksIcons">
                    <img src="{% static 'img/addSubtaskPlusIcon.svg' %}" alt="Add subtask icon">
                </div>
            </div>
            <div class="createdSubTasksBox" id="createdSubTasksBox" style="display: none"></div>
        </div>
    </div>

    <!-- Buttons to create or clear task -->
    <div class="createTaskContainer">
        <button class="clearTaskButton" onclick="resetAddTaskForm()">
            <p>Clear</p>
            <span class="taskIcon">X</span>
        </button>
        <button class="createTaskButton" onclick="createTask()">
            <p>Create Task</p>
            <img src="{% static 'img/createTaskCheckIcon.svg' %}" alt="Create Task icon">
        </button>
    </div>
</div>

<!-- Task Created Confirmation -->
<div class="taskCreatedButtonContainer" id="taskCreatedButtonContainer" style="display: none">
    <div class="taskCreatedButton" id="taskCreatedButton">
        <p>Task added to board</p>
        <img src="{% static 'img/boardIconWhite.svg' %}" alt="Task added icon">
    </div>
</div>
